{
  "hash": "8ec5b6f03d541e96645db38be72a9a2e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"ggplot2 package in R\"\ndate: 2024-09-15\ncategories: [R, Data Visualization]\n---\n\n\n\n\n# Visualizing progress in public health using ggplot2\n\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n\n\n\nReference have published data on age-adjusted death rates for five leading causes of death in the United States between 1900 - 1918. Let's look at visualization strategies to highlight different insights from the data. Big shoutout to Albert Rapp's video\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read_csv(\"https://data.cdc.gov/resource/6rkc-nb2q.csv\")\n\nsysfonts::font_add_google('Merriweather')\n\n\n\n# Important step to enable showtext font rendering!\nshowtext_auto()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntitle_text <- 'It took 100 years for the <span style = \"color:#87CEEB\">**Heart Disease Death Rate**</span> <br> to recover to levels observed in 1900'\n\ndf |> \n  filter(leading_causes == \"Heart Disease\") |> \nggplot(aes(year, age_adjusted_death_rate, color = leading_causes)) +\n  geom_line(linewidth = 1.5) +\n  labs(title = \"Major causes of mortality\") +\n  theme_minimal(\n    base_size = 24,\n    base_family = 'Merriweather'\n  ) +\n  labs(\n    x = \"Year\",\n    y = element_blank(),\n    title = title_text,\n    subtitle = \"Death Rate (per 100,000)\",\n    caption = \"Source: National Center for Health Statistics\"\n  ) +\n  gghighlight(\n    leading_causes == \"Heart Disease\",\n    year <= 2000,\n    use_direct_label = FALSE,\n    use_group_by = FALSE,\n    unhighlighted_params = list(color = \"grey80\", linewidth = 1)\n  ) +\n  annotate(\n    'text',\n    x = 1992,\n    y = 550,\n    size = 5.5,\n    label = \"Heart Disease Death Rate\",\n    fontface = \"bold\",\n    color = \"skyblue2\"\n  ) +\n  scale_color_manual(values = \"skyblue2\") +\n  theme(\n    legend.position = \"none\",\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_line(linewidth = 0.5, linetype = 2),\n    plot.title.position = \"plot\",\n    text = element_text(color = \"grey20\"),\n    axis.text = element_text(color = \"grey40\"),\n    plot.title = ggtext::element_markdown(color = \"grey20\", family = \"Merriweather\"),\n    plot.subtitle = element_text(\n      color = \"grey30\",\n      size = rel(0.8),\n      margin = margin(b=8, unit = 'mm')\n    ),\n    plot.caption = element_text(size = rel(0.6), color = \"grey20\")\n  ) +\n  annotate(\n    'segment',\n    x = 1900,\n    xend = 2000,\n    y = 265,\n    yend = 265,\n    linetype = 2,\n    linewidth = 1,\n    color = \"grey10\"\n  )\n```\n\n::: {.cell-output-display}\n![](ggplot2_package_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\n\nA bump chart could be interesting as well to compare changes in the rankings of age adjusted mortality rates.\n\nThis also a good candidate for gganimation where the lines are animated.\n\n",
    "supporting": [
      "ggplot2_package_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}